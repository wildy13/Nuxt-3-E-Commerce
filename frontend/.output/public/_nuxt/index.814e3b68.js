import{c as S,a as I,_ as B,b as $,d as q}from"./index.esm.1d1721c7.js";import{_ as N}from"./Input.cfb9abad.js";import{_ as j,a as z}from"./Button.c5f6c017.js";import{f as E,r as c,o,c as F,a as e,g as l,h as M,b as t,w as r,d as g,i as R,j as T,n as A}from"./entry.e3cc4c5d.js";import"./nuxt-link.4c9e1733.js";const G={class:"bg-gradient-to-r from-blue-400 to-indigo-600 min-h-screen flex justify-center items-center"},H={class:"mx-4 w-96 lg:w-[500px] bg-white p-10 rounded-md"},D=e("div",{class:"text-center text-2xl"},"Sign Up",-1),J=e("div",{class:"font-medium text-sm"},"Username",-1),K=e("div",{class:"font-medium text-sm"},"Password",-1),L={class:"relative"},O=e("div",{class:"font-medium text-sm"},"Confirm Password",-1),Q={class:"relative"},W={class:"p-1 flex justify-between items-center"},X={__name:"index",setup(V){const{signUp:h}=E(),y=S().shape({password:I().required("Required")}),i=c(null),x=c(!1),b=c(),a=c({username:void 0,password:void 0,confPassword:void 0,roleId:2}),d=c(!1),p=c(!1),k=()=>{d.value=!d.value;const n=document.querySelector("#password-input");n&&(n.type=d.value?"text":"password")},P=()=>{p.value=!p.value;const n=document.querySelector("#confirm-password-input");n&&(n.type=p.value?"text":"password")},U=async()=>{var u;x.value=!0,await((u=b.value)==null?void 0:u.validate());const{username:n,password:s,confPassword:f,roleId:m}=a.value;if(s!==f){i.value="Password and confirm password do not match.";return}await h({username:n,password:s,confPassword:f,roleId:m,redirect:!0}),i.value=null,A("/dashboard")};return(n,s)=>{const f=B,m=N,u=$,w=j,v=z,C=q;return o(),F("div",G,[e("div",H,[e("div",null,[i.value?(o(),l(f,{key:0,error:i.value},null,8,["error"])):M("",!0),D,e("div",null,[t(C,{ref_key:"form",ref:b,state:a.value,schema:R(y),onSubmit:T(U,["prevent"])},{default:r(()=>[t(u,{name:"username",class:"p-1"},{default:r(()=>[J,t(m,{modelValue:a.value.username,"onUpdate:modelValue":s[0]||(s[0]=_=>a.value.username=_),placeholder:"Username..."},null,8,["modelValue"])]),_:1}),t(u,{name:"password",class:"p-1"},{default:r(()=>[K,e("div",L,[t(m,{id:"password-input",modelValue:a.value.password,"onUpdate:modelValue":s[1]||(s[1]=_=>a.value.password=_),type:d.value?"text":"password",placeholder:"Password...",color:"white",trailing:""},null,8,["modelValue","type"]),t(v,{size:"xl",color:"white",variant:"link",class:"absolute inset-y-0 right-0 mt-1 mr-2",onClick:k},{default:r(()=>[d.value?(o(),l(w,{key:0,name:"i-heroicons-eye"})):(o(),l(w,{key:1,name:"i-heroicons-eye-slash"}))]),_:1})])]),_:1}),t(u,{name:"password",class:"p-1"},{default:r(()=>[O,e("div",Q,[t(m,{id:"confirm-password-input",modelValue:a.value.confPassword,"onUpdate:modelValue":s[2]||(s[2]=_=>a.value.confPassword=_),type:d.value?"text":"password",placeholder:"Confirm Password...",color:"white",trailing:""},null,8,["modelValue","type"]),t(v,{size:"xl",color:"white",variant:"link",class:"absolute inset-y-0 right-0 mt-1 mr-2",onClick:P},{default:r(()=>[p.value?(o(),l(w,{key:0,name:"i-heroicons-eye"})):(o(),l(w,{key:1,name:"i-heroicons-eye-slash"}))]),_:1})])]),_:1}),e("div",W,[x.value==!0?(o(),l(v,{key:0,loading:"",id:"submit",type:"submit",color:"white"},{default:r(()=>[g(" Submit ")]),_:1})):(o(),l(v,{key:1,type:"submit",color:"white"},{default:r(()=>[g(" Submit ")]),_:1}))])]),_:1},8,["state","schema","onSubmit"])])])])])}}},oe={__name:"index",setup(V){return(h,y)=>{const i=X;return o(),l(i)}}};export{oe as default};
