import{_ as B,o as P}from"./Button.abd10d12.js";import{_ as V,k as M,M as g,E as W,m as c,G as q,H as S,N as m,r as k,x as G,o as v,c as y,J as D,D as p,t as w,g as _,h as z,K as I,i as x,Z as ee,z as E,q as ne,a as ae,b as O}from"./entry.fe6767c7.js";const le=M({components:{UIcon:B},inheritAttrs:!1,props:{src:{type:[String,Boolean],default:null},alt:{type:String,default:null},text:{type:String,default:null},icon:{type:String,default:()=>g.ui.avatar.default.icon},size:{type:String,default:()=>g.ui.avatar.default.size,validator(e){return Object.keys(g.ui.avatar.size).includes(e)}},chipColor:{type:String,default:()=>g.ui.avatar.default.chipColor,validator(e){return["gray",...g.ui.colors].includes(e)}},chipPosition:{type:String,default:()=>g.ui.avatar.default.chipPosition,validator(e){return Object.keys(g.ui.avatar.chip.position).includes(e)}},chipText:{type:[String,Number],default:null},imgClass:{type:String,default:""},ui:{type:Object,default:()=>({})}},setup(e,{attrs:n}){const t=W(),l=c(()=>q({},e.ui,t.ui.avatar)),s=c(()=>typeof e.src=="boolean"?null:e.src),a=c(()=>(e.alt||"").split(" ").map($=>$.charAt(0)).join("").substring(0,2)),f=c(()=>S(m(l.value.wrapper,(o.value||!s.value)&&l.value.background,l.value.rounded,l.value.size[e.size]),n.class)),i=c(()=>S(m(l.value.rounded,l.value.size[e.size]),e.imgClass)),u=c(()=>m(l.value.icon.base,l.value.icon.size[e.size])),r=c(()=>m(l.value.chip.base,l.value.chip.size[e.size],l.value.chip.position[e.chipPosition],l.value.chip.background.replaceAll("{color}",e.chipColor))),o=k(!1);G(()=>e.src,()=>{o.value&&(o.value=!1)});function C(){o.value=!0}return{attrs:P(n,["class"]),wrapperClass:f,imgClass:i,iconClass:u,chipClass:r,url:s,placeholder:a,error:o,onError:C}}}),te=["alt","src"];function ie(e,n,t,l,s,a){const f=B;return v(),y("span",{class:p(e.wrapperClass)},[e.url&&!e.error?(v(),y("img",D({key:0,class:e.imgClass,alt:e.alt,src:e.url},e.attrs,{onError:n[0]||(n[0]=(...i)=>e.onError&&e.onError(...i))}),null,16,te)):e.text?(v(),y("span",{key:1,class:p(e.ui.text)},w(e.text),3)):e.icon?(v(),_(f,{key:2,name:e.icon,class:p(e.iconClass)},null,8,["name","class"])):e.placeholder?(v(),y("span",{key:3,class:p(e.ui.placeholder)},w(e.placeholder),3)):z("",!0),e.chipColor?(v(),y("span",{key:4,class:p(e.chipClass)},w(e.chipText),3)):z("",!0),I(e.$slots,"default")],2)}const ve=V(le,[["render",ie]]);function j(e){return typeof e=="function"?e():x(e)}const A=()=>{};function ue(e,n){function t(...l){return new Promise((s,a)=>{Promise.resolve(e(()=>n.apply(this,l),{fn:n,thisArg:this,args:l})).then(s).catch(a)})}return t}function oe(e,n={}){let t,l,s=A;const a=i=>{clearTimeout(i),s(),s=A};return i=>{const u=j(e),r=j(n.maxWait);return t&&a(t),u<=0||r!==void 0&&r<=0?(l&&(a(l),l=null),Promise.resolve(i())):new Promise((o,C)=>{s=n.rejectOnCancel?C:o,r&&!l&&(l=setTimeout(()=>{t&&a(t),l=null,o(i())},r)),t=setTimeout(()=>{l&&a(l),l=null,o(i())},u)})}}function re(e,n=200,t={}){return ue(oe(n,t),e)}function me(e){var n;const t=j(e);return(n=t==null?void 0:t.$el)!=null?n:t}const h=new Map;function ye(e){const n=ee();function t(i){var u;const r=h.get(e)||new Set;r.add(i),h.set(e,r);const o=()=>s(i);return(u=n==null?void 0:n.cleanups)==null||u.push(o),o}function l(i){function u(...r){s(u),i(...r)}return t(u)}function s(i){const u=h.get(e);u&&(u.delete(i),u.size||a())}function a(){h.delete(e)}function f(i,u){var r;(r=h.get(e))==null||r.forEach(o=>o(i,u))}return{on:t,once:l,off:s,emit:f,reset:a}}const se=()=>{const e=E("form-events",void 0),n=E("form-group",void 0),t=k(!1);function l(i,u){e&&e.emit({type:i,path:u})}function s(){l("blur",n==null?void 0:n.name.value),t.value=!0}function a(){l("change",n==null?void 0:n.name.value)}const f=re(()=>{t.value&&l("input",n==null?void 0:n.name.value)},300);return{emitFormBlur:s,emitFormInput:f,emitFormChange:a,formGroup:n}},ce=M({components:{UIcon:B},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>g.ui.input.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:()=>g.ui.input.default.size,validator(e){return Object.keys(g.ui.input.size).includes(e)}},color:{type:String,default:()=>g.ui.input.default.color,validator(e){return[...g.ui.colors,...Object.keys(g.ui.input.color)].includes(e)}},variant:{type:String,default:()=>g.ui.input.default.variant,validator(e){return[...Object.keys(g.ui.input.variant),...Object.values(g.ui.input.color).flatMap(n=>Object.keys(n))].includes(e)}},inputClass:{type:String,default:null},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","blur"],setup(e,{emit:n,attrs:t,slots:l}){const s=W(),a=c(()=>q({},e.ui,s.ui.input)),{emitFormBlur:f,emitFormInput:i,formGroup:u}=se(),r=c(()=>{var d;return(d=u==null?void 0:u.error)!=null&&d.value?"red":e.color}),o=c(()=>{var d;return((d=u==null?void 0:u.size)==null?void 0:d.value)??e.size}),C=k(null),$=()=>{var d;e.autofocus&&((d=C.value)==null||d.focus())},U=d=>{n("update:modelValue",d.target.value),i()},J=d=>{f(),n("blur",d)};ne(()=>{setTimeout(()=>{$()},100)});const L=c(()=>S(a.value.wrapper,t.class)),H=c(()=>{var F,T;const d=((T=(F=a.value.color)==null?void 0:F[r.value])==null?void 0:T[e.variant])||a.value.variant[e.variant];return S(m(a.value.base,a.value.rounded,a.value.placeholder,a.value.size[o.value],e.padded?a.value.padding[o.value]:"p-0",d==null?void 0:d.replaceAll("{color}",r.value),(b.value||l.leading)&&a.value.leading.padding[o.value],(N.value||l.trailing)&&a.value.trailing.padding[o.value]),e.inputClass)}),b=c(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),N=c(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),K=c(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),R=c(()=>e.loading&&!b.value?e.loadingIcon:e.trailingIcon||e.icon),Z=c(()=>m(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[o.value])),Q=c(()=>m(a.value.icon.base,s.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[o.value],e.loading&&"animate-spin")),X=c(()=>m(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[o.value])),Y=c(()=>m(a.value.icon.base,s.ui.colors.includes(r.value)&&a.value.icon.color.replaceAll("{color}",r.value),a.value.icon.size[o.value],e.loading&&!b.value&&"animate-spin"));return{attrs:P(t,["class"]),ui:a,input:C,isLeading:b,isTrailing:N,wrapperClass:L,inputClass:H,leadingIconName:K,leadingIconClass:Q,leadingWrapperIconClass:Z,trailingIconName:R,trailingIconClass:Y,trailingWrapperIconClass:X,onInput:U,onBlur:J}}}),de=["name","value","type","required","placeholder","disabled"];function ge(e,n,t,l,s,a){const f=B;return v(),y("div",{class:p(e.wrapperClass)},[ae("input",D({ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.attrs,{onInput:n[0]||(n[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:n[1]||(n[1]=(...i)=>e.onBlur&&e.onBlur(...i))}),null,16,de),I(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(v(),y("span",{key:0,class:p(e.leadingWrapperIconClass)},[I(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[O(f,{name:e.leadingIconName,class:p(e.leadingIconClass)},null,8,["name","class"])])],2)):z("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(v(),y("span",{key:1,class:p(e.trailingWrapperIconClass)},[I(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[O(f,{name:e.trailingIconName,class:p(e.trailingIconClass)},null,8,["name","class"])])],2)):z("",!0)],2)}const Ce=V(ce,[["render",ge]]);export{Ce as _,ve as a,ye as b,me as u};
