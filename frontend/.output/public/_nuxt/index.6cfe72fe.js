import{c as B,a as I,_ as N,b as $,d as q}from"./index.esm.30cdf222.js";import{_ as j}from"./Input.86b5a2b1.js";import{_ as z,a as E}from"./Button.abd10d12.js";import{_ as F}from"./nuxt-link.daf19f32.js";import{f as M,r as u,o as a,c as R,a as e,g as l,h as T,b as s,w as o,d as g,i as A,j as G,n as H}from"./entry.fe6767c7.js";const L={class:"bg-gradient-to-r from-blue-400 to-indigo-600 min-h-screen flex justify-center items-center"},D={class:"mx-4 w-96 lg:w-[500px] bg-white p-10 rounded-md"},J=e("div",{class:"text-center text-2xl"},"Sign Up",-1),K=e("div",{class:"font-medium text-sm"},"Username",-1),O=e("div",{class:"font-medium text-sm"},"Password",-1),Q={class:"relative"},W=e("div",{class:"font-medium text-sm"},"Confirm Password",-1),X={class:"relative"},Y={class:"p-1 flex justify-between items-center"},Z=e("div",{class:"text-sm"},"Back to home?",-1),ee={__name:"index",setup(k){const{signUp:h}=M(),x=B().shape({password:I().required("Required")}),i=u(null),y=u(!1),b=u(),n=u({username:void 0,password:void 0,confPassword:void 0,roleId:2}),d=u(!1),p=u(!1),V=()=>{d.value=!d.value;const r=document.querySelector("#password-input");r&&(r.type=d.value?"text":"password")},P=()=>{p.value=!p.value;const r=document.querySelector("#confirm-password-input");r&&(r.type=p.value?"text":"password")},U=async()=>{var c;y.value=!0,await((c=b.value)==null?void 0:c.validate());const{username:r,password:t,confPassword:f,roleId:m}=n.value;if(t!==f){i.value="Password and confirm password do not match.";return}await h({username:r,password:t,confPassword:f,roleId:m,redirect:!0}),i.value=null,H("/dashboard")};return(r,t)=>{const f=N,m=j,c=$,w=z,v=E,C=F,S=q;return a(),R("div",L,[e("div",D,[e("div",null,[i.value?(a(),l(f,{key:0,error:i.value},null,8,["error"])):T("",!0),J,e("div",null,[s(S,{ref_key:"form",ref:b,state:n.value,schema:A(x),onSubmit:G(U,["prevent"])},{default:o(()=>[s(c,{name:"username",class:"p-1"},{default:o(()=>[K,s(m,{modelValue:n.value.username,"onUpdate:modelValue":t[0]||(t[0]=_=>n.value.username=_),placeholder:"Username..."},null,8,["modelValue"])]),_:1}),s(c,{name:"password",class:"p-1"},{default:o(()=>[O,e("div",Q,[s(m,{id:"password-input",modelValue:n.value.password,"onUpdate:modelValue":t[1]||(t[1]=_=>n.value.password=_),type:d.value?"text":"password",placeholder:"Password...",color:"white",trailing:""},null,8,["modelValue","type"]),s(v,{size:"xl",color:"white",variant:"link",class:"absolute inset-y-0 right-0 mt-1 mr-2",onClick:V},{default:o(()=>[d.value?(a(),l(w,{key:0,name:"i-heroicons-eye"})):(a(),l(w,{key:1,name:"i-heroicons-eye-slash"}))]),_:1})])]),_:1}),s(c,{name:"password",class:"p-1"},{default:o(()=>[W,e("div",X,[s(m,{id:"confirm-password-input",modelValue:n.value.confPassword,"onUpdate:modelValue":t[2]||(t[2]=_=>n.value.confPassword=_),type:d.value?"text":"password",placeholder:"Confirm Password...",color:"white",trailing:""},null,8,["modelValue","type"]),s(v,{size:"xl",color:"white",variant:"link",class:"absolute inset-y-0 right-0 mt-1 mr-2",onClick:P},{default:o(()=>[p.value?(a(),l(w,{key:0,name:"i-heroicons-eye"})):(a(),l(w,{key:1,name:"i-heroicons-eye-slash"}))]),_:1})])]),_:1}),e("div",Y,[y.value==!0?(a(),l(v,{key:0,loading:"",id:"submit",type:"submit",color:"white"},{default:o(()=>[g(" Submit ")]),_:1})):(a(),l(v,{key:1,type:"submit",color:"white"},{default:o(()=>[g(" Submit ")]),_:1})),s(C,{to:"/"},{default:o(()=>[Z]),_:1})])]),_:1},8,["state","schema","onSubmit"])])])])])}}},re={__name:"index",setup(k){return(h,x)=>{const i=ee;return a(),l(i)}}};export{re as default};
